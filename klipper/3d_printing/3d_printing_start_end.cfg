[gcode_macro PRINT_START]
description: Prepare the printer for printing. Includes various calibrations
gcode:
    {% set bed_temperature = params.S|default(0)|float %}
    RESPOND MSG='Starting print'
    M140 S{bed_temperature}
    BASIC_CALIBRATION
    CALIBRATE_BED
    RESPOND MSG='Waiting for bed temperature to reach {bed_temperature}'
    M190 S{bed_temperature}
    TURN_ON_BUSY_LEDS


[gcode_macro BASIC_CALIBRATION]
description: Prepare the printer for printing. Includes various calibrations
gcode:
    RESPOND MSG='Calbrating'
    TURN_ON_CALIBRATING_LEDS
    BED_MESH_CLEAR
    CHECK_HOMED
    CHECK_CALIBRATED_PROBES


[gcode_macro PRINT_END]
gcode:
    RESPOND MSG='Print finished. Turning off bed, extruder, and fan'
    TURN_ON_DONE_LEDS
    M140 S0
    M104 S0
    Unload_Current_Carriage
    MOVE_TO_SAFE_ORIGIN


[gcode_macro FULL_CALIBRATION_WITHOUT_CLEANING]
description: Prepare the printer for printing. Includes various calibrations
gcode:
    BASIC_CALIBRATION
    CALIBRATE_EXTRUDER_WITHOUT_CLEANING CARRIAGE=extruder1
    CALIBRATE_EXTRUDER_WITHOUT_CLEANING CARRIAGE=extruder2