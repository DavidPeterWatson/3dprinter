[include 3d_printer_bed.cfg]
[include extruder_management.cfg]
[include extruder.cfg]
[include extruder1.cfg]
[include 3d_printing_start_end.cfg]
[include resonance_tester.cfg]
[exclude_object]
[firmware_retraction]
retract_length: 6
retract_speed: 200
unretract_speed: 200


[gcode_macro Retract_After_Unload_Extruder]
gcode:
    SAVE_GCODE_STATE NAME=Retract_After_Unload_Extruder_State
    M83
    G1 E-20 F600
    RESTORE_GCODE_STATE NAME=Retract_After_Unload_Extruder_State


[gcode_macro Unretract_After_Load_Extruder]
gcode:
    SAVE_GCODE_STATE NAME=Unretract_After_Load_Extruder_State
    M83
    G1 E20 F400
    RESTORE_GCODE_STATE NAME=Unretract_After_Load_Extruder_State


[motor_constants btt-h2-v2s-revo]
resistance: 2.3
inductance: 0.002
holding_torque: 0.11
max_current: 0.8
steps_per_revolution: 200


[gcode_macro GetPosition]
gcode:
    {% set gcode_move = printer.gcode_move %} 
    {% set position = printer.gcode_move.gcode_position %} 
    RESPOND MSG='X{position.x} Y{position.y} Z{position.z} absolute_coordinates{gcode_move.absolute_coordinates}'