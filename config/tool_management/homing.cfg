[force_move]
enable_force_move: True

[gcode_macro Check_Homed]
gcode:
    {% if "xyz" not in printer.toolhead.homed_axes %}
        G28
    {% endif %}

[homing_override]
gcode:
    Check_Carriage_Is_Empty
    Check_Carriage_In_Safe_Zone
    G28 X0
    G28 Y0
    G4 P500
    _Align_Probe
    SET_KINEMATIC_POSITION Y=-100
    G4 P500
    Check_Carriage_Is_Loaded
    G90
    G0 Y0 F840
    Check_Carriage_In_Safe_Zone
    G0 X180 Y20
    G28 Z0
    Unload_Probe

[gcode_macro Force_Homing]
gcode:
    SET_KINEMATIC_POSITION X=200 Y=200 Z=100
